(function(_t,K){typeof exports=="object"&&typeof module<"u"?module.exports=K():typeof define=="function"&&define.amd?define(K):(_t=typeof globalThis<"u"?globalThis:_t||self,_t.Nanomanager=K())})(this,(function(){"use strict";/*! Nano File Manager version 0.1.0
 * Copyright Â© 2025 Reun Media <company@reun.eu> (https://reun.eu)
 * Licensed under MIT
 */typeof window<"u"&&((window.__svelte??={}).v??=new Set).add("5");let K=!1,et=!1,jn=!1;function Bn(){K=!0}function Hn(){et=!0}Bn();const pt=1,bt=2,wr=4,Vn=8,Yn=16,Kn=1,Wn=2,Gn=4,Jn=8,Xn=16,Zn=4,Qn=1,ei=2,yr="[",Dt="[!",Ut="]",je={},M=Symbol(),ti="http://www.w3.org/1999/xhtml",$r=!1;var qt=Array.isArray,ri=Array.prototype.indexOf,zt=Array.from,gt=Object.keys,Be=Object.defineProperty,Ae=Object.getOwnPropertyDescriptor,Er=Object.getOwnPropertyDescriptors,ni=Object.prototype,ii=Array.prototype,jt=Object.getPrototypeOf,xr=Object.isExtensible;function si(e){return typeof e=="function"}const He=()=>{};function ai(e){return e()}function mt(e){for(var t=0;t<e.length;t++)e[t]()}function li(){var e,t,r=new Promise((n,i)=>{e=n,t=i});return{promise:r,resolve:e,reject:t}}function oi(e,t){if(Array.isArray(e))return e;if(!(Symbol.iterator in e))return Array.from(e);const r=[];for(const n of e)if(r.push(n),r.length===t)break;return r}const H=2,Bt=4,wt=8,Ne=16,fe=32,be=64,kr=128,X=256,yt=512,q=1024,Z=2048,ge=4096,re=8192,Oe=16384,tt=32768,rt=65536,Tr=1<<17,ui=1<<18,Ve=1<<19,Sr=1<<20,Ht=1<<21,Vt=1<<22,Re=1<<23,Ce=Symbol("$state"),Ar=Symbol("legacy props"),fi=Symbol(""),Yt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"},Nr=3,nt=8;function ci(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function di(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function vi(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function hi(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function _i(e){throw new Error("https://svelte.dev/e/effect_orphan")}function pi(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function bi(){throw new Error("https://svelte.dev/e/flush_sync_in_effect")}function gi(){throw new Error("https://svelte.dev/e/hydration_failed")}function mi(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function wi(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function yi(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function $t(e){console.warn("https://svelte.dev/e/hydration_mismatch")}let S=!1;function ce(e){S=e}let C;function ne(e){if(e===null)throw $t(),je;return C=e}function Et(){return ne(xe(C))}function N(e){if(S){if(xe(C)!==null)throw $t(),je;C=e}}function Kt(){for(var e=0,t=C;;){if(t.nodeType===nt){var r=t.data;if(r===Ut){if(e===0)return t;e-=1}else(r===yr||r===Dt)&&(e+=1)}var n=xe(t);t.remove(),t=n}}function Or(e){if(!e||e.nodeType!==nt)throw $t(),je;return e.data}function Rr(e){return e===this.v}function $i(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Cr(e){return!$i(e,this.v)}let D=null;function xt(e){D=e}function me(e,t=!1,r){D={p:D,c:null,e:null,s:e,x:null,l:et&&!t?{s:null,u:null,$:[]}:null}}function we(e){var t=D,r=t.e;if(r!==null){t.e=null;for(var n of r)tn(n)}return e!==void 0&&(t.x=e),D=t.p,e??{}}function it(){return!et||D!==null&&D.l===null}const Ei=new WeakMap;function xi(e){var t=$;if(t===null)return x.f|=Re,e;if((t.f&tt)===0){if((t.f&kr)===0)throw!t.parent&&e instanceof Error&&Fr(e),e;t.b.error(e)}else Wt(e,t)}function Wt(e,t){for(;t!==null;){if((t.f&kr)!==0)try{t.b.error(e);return}catch(r){e=r}t=t.parent}throw e instanceof Error&&Fr(e),e}function Fr(e){const t=Ei.get(e);t&&(Be(e,"message",{value:t.message}),Be(e,"stack",{value:t.stack}))}const ki=typeof requestIdleCallback>"u"?e=>setTimeout(e,1):requestIdleCallback;let st=[],at=[];function Pr(){var e=st;st=[],mt(e)}function Ir(){var e=at;at=[],mt(e)}function Gt(e){st.length===0&&queueMicrotask(Pr),st.push(e)}function Ti(e){at.length===0&&ki(Ir),at.push(e)}function Si(){st.length>0&&Pr(),at.length>0&&Ir()}function Ai(){for(var e=$.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&ci(),e}function lt(e){var t=H|Z,r=x!==null&&(x.f&H)!==0?x:null;return $===null||r!==null&&(r.f&X)!==0?t|=X:$.f|=Ve,{ctx:D,deps:null,effects:null,equals:Rr,f:t,fn:e,reactions:null,rv:0,v:M,wv:0,parent:r??$,ac:null}}function Ni(e,t){let r=$;r===null&&di();var n=r.b,i=void 0,s=We(M),a=null,l=!x;return Ui(()=>{try{var o=e();a&&Promise.resolve(o).catch(()=>{})}catch(d){o=Promise.reject(d)}var u=()=>o;i=a?.then(u,u)??Promise.resolve(o),a=i;var c=F,h=n.pending;l&&(n.update_pending_count(1),h||c.increment());const v=(d,f=void 0)=>{a=null,h||c.activate(),f?f!==Yt&&(s.f|=Re,ut(s,f)):((s.f&Re)!==0&&(s.f^=Re),ut(s,d)),l&&(n.update_pending_count(-1),h||c.decrement()),Dr()};if(i.then(v,d=>v(null,d||"unknown")),c)return()=>{queueMicrotask(()=>c.neuter())}}),new Promise(o=>{function u(c){function h(){c===i?o(s):u(i)}c.then(h,h)}u(i)})}function Jt(e){const t=lt(e);return fn(t),t}function Xt(e){const t=lt(e);return t.equals=Cr,t}function Lr(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)ie(t[r])}}function Oi(e){for(var t=e.parent;t!==null;){if((t.f&H)===0)return t;t=t.parent}return null}function Zt(e){var t,r=$;ke(Oi(e));try{Lr(e),t=_n(e)}finally{ke(r)}return t}function Mr(e){var t=Zt(e);if(e.equals(t)||(e.v=t,e.wv=vn()),!De)if(Ye!==null)Ye.set(e,e.v);else{var r=(Te||(e.f&X)!==0)&&e.deps!==null?ge:q;G(e,r)}}function Ri(e,t,r){const n=it()?lt:Xt;if(t.length===0){r(e.map(n));return}var i=F,s=$,a=Ci(),l=Ai();Promise.all(t.map(o=>Ni(o))).then(o=>{i?.activate(),a();try{r([...e.map(n),...o])}catch(u){(s.f&Oe)===0&&Wt(u,s)}i?.deactivate(),Dr()}).catch(o=>{l.error(o)})}function Ci(){var e=$,t=x,r=D,n=F;return function(){ke(e),oe(t),xt(r),n?.activate()}}function Dr(){ke(null),oe(null),xt(null)}const ot=new Set;let F=null,kt=null,Ye=null,Ur=new Set,Tt=[];function qr(){const e=Tt.shift();Tt.length>0&&queueMicrotask(qr),e()}let Fe=[],St=null,Qt=!1,At=!1;class Pe{current=new Map;#e=new Map;#t=new Set;#r=0;#l=null;#i=!1;#n=[];#o=[];#s=[];#a=[];#u=[];#c=[];#d=[];skipped_effects=new Set;process(t){Fe=[],kt=null;var r=null;if(K&&ot.size>1){r=new Map,Ye=new Map;for(const[s,a]of this.current)r.set(s,{v:s.v,wv:s.wv}),s.v=a;for(const s of ot)if(s!==this)for(const[a,l]of s.#e)r.has(a)||(r.set(a,{v:a.v,wv:a.wv}),a.v=l)}for(const s of t)this.#h(s);if(this.#n.length===0&&this.#r===0){this.#v();var n=this.#s,i=this.#a;this.#s=[],this.#a=[],this.#u=[],kt=F,F=null,jr(n),jr(i),F===null?F=this:ot.delete(this),this.#l?.resolve()}else this.#f(this.#s),this.#f(this.#a),this.#f(this.#u);if(r){for(const[s,{v:a,wv:l}]of r)s.wv<=l&&(s.v=a);Ye=null}for(const s of this.#n)Je(s);for(const s of this.#o)Je(s);this.#n=[],this.#o=[]}#h(t){t.f^=q;for(var r=t.first;r!==null;){var n=r.f,i=(n&(fe|be))!==0,s=i&&(n&q)!==0,a=s||(n&re)!==0||this.skipped_effects.has(r);if(!a&&r.fn!==null){if(i)r.f^=q;else if((n&Bt)!==0)this.#a.push(r);else if(K&&(n&wt)!==0)this.#s.push(r);else if((n&q)===0)if((n&Vt)!==0){var l=r.b?.pending?this.#o:this.#n;l.push(r)}else Nt(r)&&((r.f&Ne)!==0&&this.#u.push(r),Je(r));var o=r.first;if(o!==null){r=o;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)r=u.next,u=u.parent}}#f(t){for(const r of t)((r.f&Z)!==0?this.#c:this.#d).push(r),G(r,q);t.length=0}capture(t,r){this.#e.has(t)||this.#e.set(t,r),this.current.set(t,t.v)}activate(){F=this}deactivate(){F=null,kt=null;for(const t of Ur)if(Ur.delete(t),t(),F!==null)break}neuter(){this.#i=!0}flush(){Fe.length>0?zr():this.#v(),F===this&&(this.#r===0&&ot.delete(this),this.deactivate())}#v(){if(!this.#i)for(const t of this.#t)t();this.#t.clear()}increment(){this.#r+=1}decrement(){if(this.#r-=1,this.#r===0){for(const t of this.#c)G(t,Z),Ke(t);for(const t of this.#d)G(t,ge),Ke(t);this.#s=[],this.#a=[],this.flush()}else this.deactivate()}add_callback(t){this.#t.add(t)}settled(){return(this.#l??=li()).promise}static ensure(){if(F===null){const t=F=new Pe;ot.add(F),At||Pe.enqueue(()=>{F===t&&t.flush()})}return F}static enqueue(t){Tt.length===0&&queueMicrotask(qr),Tt.unshift(t)}}function V(e){K&&$!==null&&bi();var t=At;At=!0;try{for(var r;;){if(Si(),Fe.length===0&&(F?.flush(),Fe.length===0))return St=null,r;zr()}}finally{At=t}}function zr(){var e=Ge;Qt=!0;try{var t=0;for(on(!0);Fe.length>0;){var r=Pe.ensure();if(t++>1e3){var n,i;Fi()}r.process(Fe),$e.clear()}}finally{Qt=!1,on(e),St=null}}function Fi(){try{pi()}catch(e){Wt(e,St)}}let ye=null;function jr(e){var t=e.length;if(t!==0){for(var r=0;r<t;){var n=e[r++];if((n.f&(Oe|re))===0&&Nt(n)&&(ye=[],Je(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null&&n.ac===null?sn(n):n.fn=null),ye?.length>0)){$e.clear();for(const i of ye)Je(i);ye=[]}}ye=null}}function Ke(e){for(var t=St=e;t.parent!==null;){t=t.parent;var r=t.f;if(Qt&&t===$&&(r&Ne)!==0)return;if((r&(be|fe))!==0){if((r&q)===0)return;t.f^=q}}Fe.push(t)}const $e=new Map;function We(e,t){var r={f:0,v:e,reactions:null,equals:Rr,rv:0,wv:0};return r}function L(e,t){const r=We(e);return fn(r),r}function Br(e,t=!1,r=!0){const n=We(e);return t||(n.equals=Cr),et&&r&&D!==null&&D.l!==null&&(D.l.s??=[]).push(n),n}function A(e,t,r=!1){x!==null&&(!le||(x.f&Tr)!==0)&&it()&&(x.f&(H|Ne|Vt|Tr))!==0&&!ve?.includes(e)&&yi();let n=r?se(t):t;return ut(e,n)}function ut(e,t){if(!e.equals(t)){var r=e.v;De?$e.set(e,t):$e.set(e,r),e.v=t;var n=Pe.ensure();n.capture(e,r),(e.f&H)!==0&&((e.f&Z)!==0&&Zt(e),G(e,(e.f&X)===0?q:ge)),e.wv=vn(),Hr(e,Z),it()&&$!==null&&($.f&q)!==0&&($.f&(fe|be))===0&&(Q===null?ji([e]):Q.push(e))}return t}function Ee(e){A(e,e.v+1)}function Hr(e,t){var r=e.reactions;if(r!==null)for(var n=it(),i=r.length,s=0;s<i;s++){var a=r[s],l=a.f;if(!(!n&&a===$)){var o=(l&Z)===0;o&&G(a,t),(l&H)!==0?Hr(a,ge):o&&((l&Ne)!==0&&ye!==null&&ye.push(a),Ke(a))}}}function se(e){if(typeof e!="object"||e===null||Ce in e)return e;const t=jt(e);if(t!==ni&&t!==ii)return e;var r=new Map,n=qt(e),i=L(0),s=he,a=l=>{if(he===s)return l();var o=x,u=he;oe(null),dn(s);var c=l();return oe(o),dn(u),c};return n&&r.set("length",L(e.length)),new Proxy(e,{defineProperty(l,o,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&mi();var c=r.get(o);return c===void 0?c=a(()=>{var h=L(u.value);return r.set(o,h),h}):A(c,u.value,!0),!0},deleteProperty(l,o){var u=r.get(o);if(u===void 0){if(o in l){const c=a(()=>L(M));r.set(o,c),Ee(i)}}else A(u,M),Ee(i);return!0},get(l,o,u){if(o===Ce)return e;var c=r.get(o),h=o in l;if(c===void 0&&(!h||Ae(l,o)?.writable)&&(c=a(()=>{var d=se(h?l[o]:M),f=L(d);return f}),r.set(o,c)),c!==void 0){var v=b(c);return v===M?void 0:v}return Reflect.get(l,o,u)},getOwnPropertyDescriptor(l,o){var u=Reflect.getOwnPropertyDescriptor(l,o);if(u&&"value"in u){var c=r.get(o);c&&(u.value=b(c))}else if(u===void 0){var h=r.get(o),v=h?.v;if(h!==void 0&&v!==M)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return u},has(l,o){if(o===Ce)return!0;var u=r.get(o),c=u!==void 0&&u.v!==M||Reflect.has(l,o);if(u!==void 0||$!==null&&(!c||Ae(l,o)?.writable)){u===void 0&&(u=a(()=>{var v=c?se(l[o]):M,d=L(v);return d}),r.set(o,u));var h=b(u);if(h===M)return!1}return c},set(l,o,u,c){var h=r.get(o),v=o in l;if(n&&o==="length")for(var d=u;d<h.v;d+=1){var f=r.get(d+"");f!==void 0?A(f,M):d in l&&(f=a(()=>L(M)),r.set(d+"",f))}if(h===void 0)(!v||Ae(l,o)?.writable)&&(h=a(()=>L(void 0)),A(h,se(u)),r.set(o,h));else{v=h.v!==M;var _=a(()=>se(u));A(h,_)}var p=Reflect.getOwnPropertyDescriptor(l,o);if(p?.set&&p.set.call(c,u),!v){if(n&&typeof o=="string"){var g=r.get("length"),w=Number(o);Number.isInteger(w)&&w>=g.v&&A(g,w+1)}Ee(i)}return!0},ownKeys(l){b(i);var o=Reflect.ownKeys(l).filter(h=>{var v=r.get(h);return v===void 0||v.v!==M});for(var[u,c]of r)c.v!==M&&!(u in l)&&o.push(u);return o},setPrototypeOf(){wi()}})}var Vr,Yr,Kr,Wr;function er(){if(Vr===void 0){Vr=window,Yr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;Kr=Ae(t,"firstChild").get,Wr=Ae(t,"nextSibling").get,xr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),xr(r)&&(r.__t=void 0)}}function Ie(e=""){return document.createTextNode(e)}function Le(e){return Kr.call(e)}function xe(e){return Wr.call(e)}function P(e,t){if(!S)return Le(e);var r=Le(C);if(r===null)r=C.appendChild(Ie());else if(t&&r.nodeType!==Nr){var n=Ie();return r?.before(n),ne(n),n}return ne(r),r}function ft(e,t){if(!S){var r=Le(e);return r instanceof Comment&&r.data===""?xe(r):r}return C}function U(e,t=1,r=!1){let n=S?C:e;for(var i;t--;)i=n,n=xe(n);if(!S)return n;if(r&&n?.nodeType!==Nr){var s=Ie();return n===null?i?.after(s):n.before(s),ne(s),s}return ne(n),n}function Gr(e){e.textContent=""}function Jr(){if(!K||ye!==null)return!1;var e=$.f;return(e&tt)!==0}let Xr=!1;function Zr(){Xr||(Xr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function ct(e){var t=x,r=$;oe(null),ke(null);try{return e()}finally{oe(t),ke(r)}}function Pi(e,t,r,n=r){e.addEventListener(t,()=>ct(r));const i=e.__on_r;i?e.__on_r=()=>{i(),n(!0)}:e.__on_r=()=>n(!0),Zr()}function Qr(e){$===null&&x===null&&_i(),x!==null&&(x.f&X)!==0&&$===null&&hi(),De&&vi()}function Ii(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function ae(e,t,r,n=!0){var i=$;i!==null&&(i.f&re)!==0&&(e|=re);var s={ctx:D,deps:null,nodes_start:null,nodes_end:null,f:e|Z,first:null,fn:t,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(r)try{Je(s),s.f|=tt}catch(o){throw ie(s),o}else t!==null&&Ke(s);if(n){var a=s;if(r&&a.deps===null&&a.teardown===null&&a.nodes_start===null&&a.first===a.last&&(a.f&Ve)===0&&(a=a.first),a!==null&&(a.parent=i,i!==null&&Ii(a,i),x!==null&&(x.f&H)!==0&&(e&be)===0)){var l=x;(l.effects??=[]).push(a)}}return s}function en(e){Qr();var t=$.f,r=!x&&(t&fe)!==0&&(t&tt)===0;if(r){var n=D;(n.e??=[]).push(e)}else return tn(e)}function tn(e){return ae(Bt|Sr,e,!1)}function Li(e){return Qr(),ae(wt|Sr,e,!0)}function Mi(e){Pe.ensure();const t=ae(be|Ve,e,!0);return()=>{ie(t)}}function Di(e){Pe.ensure();const t=ae(be|Ve,e,!0);return(r={})=>new Promise(n=>{r.outro?ir(t,()=>{ie(t),n(void 0)}):(ie(t),n(void 0))})}function tr(e){return ae(Bt,e,!1)}function Ui(e){return ae(Vt|Ve,e,!0)}function rr(e,t=0){return ae(wt|t,e,!0)}function de(e,t=[],r=[]){Ri(t,r,n=>{ae(wt,()=>e(...n.map(b)),!0)})}function nr(e,t=0){var r=ae(Ne|t,e,!0);return r}function Me(e,t=!0){return ae(fe|Ve,e,!0,t)}function rn(e){var t=e.teardown;if(t!==null){const r=De,n=x;un(!0),oe(null);try{t.call(null)}finally{un(r),oe(n)}}}function nn(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const i=r.ac;i!==null&&ct(()=>{i.abort(Yt)});var n=r.next;(r.f&be)!==0?r.parent=null:ie(r,t),r=n}}function qi(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&fe)===0&&ie(t),t=r}}function ie(e,t=!0){var r=!1;(t||(e.f&ui)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(zi(e.nodes_start,e.nodes_end),r=!0),nn(e,t&&!r),Ot(e,0),G(e,Oe);var n=e.transitions;if(n!==null)for(const s of n)s.stop();rn(e);var i=e.parent;i!==null&&i.first!==null&&sn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function zi(e,t){for(;e!==null;){var r=e===t?null:xe(e);e.remove(),e=r}}function sn(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function ir(e,t){var r=[];sr(e,r,!0),an(r,()=>{ie(e),t&&t()})}function an(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var i of e)i.out(n)}else t()}function sr(e,t,r){if((e.f&re)===0){if(e.f^=re,e.transitions!==null)for(const a of e.transitions)(a.is_global||r)&&t.push(a);for(var n=e.first;n!==null;){var i=n.next,s=(n.f&rt)!==0||(n.f&fe)!==0;sr(n,t,s?r:!1),n=i}}}function ar(e){ln(e,!0)}function ln(e,t){if((e.f&re)!==0){e.f^=re,(e.f&q)===0&&(G(e,Z),Ke(e));for(var r=e.first;r!==null;){var n=r.next,i=(r.f&rt)!==0||(r.f&fe)!==0;ln(r,i?t:!1),r=n}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let Ge=!1;function on(e){Ge=e}let De=!1;function un(e){De=e}let x=null,le=!1;function oe(e){x=e}let $=null;function ke(e){$=e}let ve=null;function fn(e){x!==null&&(!K||(x.f&H)!==0)&&(ve===null?ve=[e]:ve.push(e))}let z=null,W=0,Q=null;function ji(e){Q=e}let cn=1,dt=0,he=dt;function dn(e){he=e}let Te=!1;function vn(){return++cn}function Nt(e){var t=e.f;if((t&Z)!==0)return!0;if((t&ge)!==0){var r=e.deps,n=(t&X)!==0;if(r!==null){var i,s,a=(t&yt)!==0,l=n&&$!==null&&!Te,o=r.length;if((a||l)&&($===null||($.f&Oe)===0)){var u=e,c=u.parent;for(i=0;i<o;i++)s=r[i],(a||!s?.reactions?.includes(u))&&(s.reactions??=[]).push(u);a&&(u.f^=yt),l&&c!==null&&(c.f&X)===0&&(u.f^=X)}for(i=0;i<o;i++)if(s=r[i],Nt(s)&&Mr(s),s.wv>e.wv)return!0}(!n||$!==null&&!Te)&&G(e,q)}return!1}function hn(e,t,r=!0){var n=e.reactions;if(n!==null&&!(!K&&ve?.includes(e)))for(var i=0;i<n.length;i++){var s=n[i];(s.f&H)!==0?hn(s,t,!1):t===s&&(r?G(s,Z):(s.f&q)!==0&&G(s,ge),Ke(s))}}function _n(e){var t=z,r=W,n=Q,i=x,s=Te,a=ve,l=D,o=le,u=he,c=e.f;z=null,W=0,Q=null,Te=(c&X)!==0&&(le||!Ge||x===null),x=(c&(fe|be))===0?e:null,ve=null,xt(e.ctx),le=!1,he=++dt,e.ac!==null&&(ct(()=>{e.ac.abort(Yt)}),e.ac=null);try{e.f|=Ht;var h=e.fn,v=h(),d=e.deps;if(z!==null){var f;if(Ot(e,W),d!==null&&W>0)for(d.length=W+z.length,f=0;f<z.length;f++)d[W+f]=z[f];else e.deps=d=z;if(!Te||(c&H)!==0&&e.reactions!==null)for(f=W;f<d.length;f++)(d[f].reactions??=[]).push(e)}else d!==null&&W<d.length&&(Ot(e,W),d.length=W);if(it()&&Q!==null&&!le&&d!==null&&(e.f&(H|ge|Z))===0)for(f=0;f<Q.length;f++)hn(Q[f],e);return i!==null&&i!==e&&(dt++,Q!==null&&(n===null?n=Q:n.push(...Q))),(e.f&Re)!==0&&(e.f^=Re),v}catch(_){return xi(_)}finally{e.f^=Ht,z=t,W=r,Q=n,x=i,Te=s,ve=a,xt(l),le=o,he=u}}function Bi(e,t){let r=t.reactions;if(r!==null){var n=ri.call(r,e);if(n!==-1){var i=r.length-1;i===0?r=t.reactions=null:(r[n]=r[i],r.pop())}}r===null&&(t.f&H)!==0&&(z===null||!z.includes(t))&&(G(t,ge),(t.f&(X|yt))===0&&(t.f^=yt),Lr(t),Ot(t,0))}function Ot(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)Bi(e,r[n])}function Je(e){var t=e.f;if((t&Oe)===0){G(e,q);var r=$,n=Ge;$=e,Ge=!0;try{(t&Ne)!==0?qi(e):nn(e),rn(e);var i=_n(e);e.teardown=typeof i=="function"?i:null,e.wv=cn;var s;$r&&jn&&(e.f&Z)!==0&&e.deps}finally{Ge=n,$=r}}}async function Hi(){if(K)return new Promise(e=>requestAnimationFrame(()=>e()));await Promise.resolve(),V()}function b(e){var t=e.f,r=(t&H)!==0;if(x!==null&&!le){var n=$!==null&&($.f&Oe)!==0;if(!n&&!ve?.includes(e)){var i=x.deps;if((x.f&Ht)!==0)e.rv<dt&&(e.rv=dt,z===null&&i!==null&&i[W]===e?W++:z===null?z=[e]:(!Te||!z.includes(e))&&z.push(e));else{(x.deps??=[]).push(e);var s=e.reactions;s===null?e.reactions=[x]:s.includes(x)||s.push(x)}}}else if(r&&e.deps===null&&e.effects===null){var a=e,l=a.parent;l!==null&&(l.f&X)===0&&(a.f^=X)}if(De){if($e.has(e))return $e.get(e);if(r){a=e;var o=a.v;return((a.f&q)===0&&a.reactions!==null||pn(a))&&(o=Zt(a)),$e.set(a,o),o}}else if(r){if(a=e,Ye?.has(a))return Ye.get(a);Nt(a)&&Mr(a)}if((e.f&Re)!==0)throw e.v;return e.v}function pn(e){if(e.v===M)return!0;if(e.deps===null)return!1;for(const t of e.deps)if($e.has(t)||(t.f&H)!==0&&pn(t))return!0;return!1}function vt(e){var t=le;try{return le=!0,e()}finally{le=t}}const Vi=-7169;function G(e,t){e.f=e.f&Vi|t}function Yi(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ce in e)lr(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&Ce in r&&lr(r)}}}function lr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{lr(e[n],t)}catch{}const r=jt(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=Er(r);for(let i in n){const s=n[i].get;if(s)try{s.call(e)}catch{}}}}}const bn=new Set,or=new Set;function gn(e){for(var t=0;t<e.length;t++)bn.add(e[t]);for(var r of or)r(e)}let mn=null;function Rt(e){var t=this,r=t.ownerDocument,n=e.type,i=e.composedPath?.()||[],s=i[0]||e.target;mn=e;var a=0,l=mn===e&&e.__root;if(l){var o=i.indexOf(l);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var u=i.indexOf(t);if(u===-1)return;o<=u&&(a=o)}if(s=i[a]||e.target,s!==t){Be(e,"currentTarget",{configurable:!0,get(){return s||r}});var c=x,h=$;oe(null),ke(null);try{for(var v,d=[];s!==null;){var f=s.assignedSlot||s.parentNode||s.host||null;try{var _=s["__"+n];if(_!=null&&(!s.disabled||e.target===s))if(qt(_)){var[p,...g]=_;p.apply(s,[e,...g])}else _.call(s,e)}catch(w){v?d.push(w):v=w}if(e.cancelBubble||f===t||f===null)break;s=f}if(v){for(let w of d)queueMicrotask(()=>{throw w});throw v}}finally{e.__root=t,delete e.currentTarget,oe(c),ke(h)}}}function Ki(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Ct(e,t){var r=$;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function Y(e,t){var r=(t&Qn)!==0,n=(t&ei)!==0,i,s=!e.startsWith("<!>");return()=>{if(S)return Ct(C,null),C;i===void 0&&(i=Ki(s?e:"<!>"+e),r||(i=Le(i)));var a=n||Yr?document.importNode(i,!0):i.cloneNode(!0);if(r){var l=Le(a),o=a.lastChild;Ct(l,o)}else Ct(a,a);return a}}function j(e,t){if(S){$.nodes_end=C,Et();return}e!==null&&e.before(t)}const Wi=["touchstart","touchmove"];function Gi(e){return Wi.includes(e)}let ur=!0;function Ue(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function wn(e,t){return yn(e,t)}function Ji(e,t){er(),t.intro=t.intro??!1;const r=t.target,n=S,i=C;try{for(var s=Le(r);s&&(s.nodeType!==nt||s.data!==yr);)s=xe(s);if(!s)throw je;ce(!0),ne(s),Et();const a=yn(e,{...t,anchor:s});if(C===null||C.nodeType!==nt||C.data!==Ut)throw $t(),je;return ce(!1),a}catch(a){if(a instanceof Error&&a.message.split(`
`).some(l=>l.startsWith("https://svelte.dev/e/")))throw a;return a!==je&&console.warn("Failed to hydrate: ",a),t.recover===!1&&gi(),er(),Gr(r),ce(!1),wn(e,t)}finally{ce(n),ne(i)}}const Xe=new Map;function yn(e,{target:t,anchor:r,props:n={},events:i,context:s,intro:a=!0}){er();var l=new Set,o=h=>{for(var v=0;v<h.length;v++){var d=h[v];if(!l.has(d)){l.add(d);var f=Gi(d);t.addEventListener(d,Rt,{passive:f});var _=Xe.get(d);_===void 0?(document.addEventListener(d,Rt,{passive:f}),Xe.set(d,1)):Xe.set(d,_+1)}}};o(zt(bn)),or.add(o);var u=void 0,c=Di(()=>{var h=r??t.appendChild(Ie());return Me(()=>{if(s){me({});var v=D;v.c=s}i&&(n.$$events=i),S&&Ct(h,null),ur=a,u=e(h,n)||{},ur=!0,S&&($.nodes_end=C),s&&we()}),()=>{for(var v of l){t.removeEventListener(v,Rt);var d=Xe.get(v);--d===0?(document.removeEventListener(v,Rt),Xe.delete(v)):Xe.set(v,d)}or.delete(o),h!==r&&h.parentNode?.removeChild(h)}});return fr.set(u,c),u}let fr=new WeakMap;function Xi(e,t){const r=fr.get(e);return r?(fr.delete(e),r(t)):Promise.resolve()}function Zi(e,t,...r){var n=e,i=He,s;nr(()=>{i!==(i=t())&&(s&&(ie(s),s=null),s=Me(()=>i(n,...r)))},rt),S&&(n=C)}function $n(e,t,r=!1){S&&Et();var n=e,i=null,s=null,a=M,l=r?rt:0,o=!1;const u=(d,f=!0)=>{o=!0,v(f,d)};var c=null;function h(){c!==null&&(c.lastChild.remove(),n.before(c),c=null);var d=a?i:s,f=a?s:i;d&&ar(d),f&&ir(f,()=>{a?s=null:i=null})}const v=(d,f)=>{if(a===(a=d))return;let _=!1;if(S){const T=Or(n)===Dt;!!a===T&&(n=Kt(),ne(n),ce(!1),_=!0)}var p=Jr(),g=n;if(p&&(c=document.createDocumentFragment(),c.append(g=Ie())),a?i??=f&&Me(()=>f(g)):s??=f&&Me(()=>f(g)),p){var w=F,y=a?i:s,O=a?s:i;y&&w.skipped_effects.delete(y),O&&w.skipped_effects.add(O),w.add_callback(h)}else h();_&&ce(!0)};nr(()=>{o=!1,t(u),o||v(null,null)},l),S&&(n=C)}function Qi(e,t,r){for(var n=e.items,i=[],s=t.length,a=0;a<s;a++)sr(t[a].e,i,!0);var l=s>0&&i.length===0&&r!==null;if(l){var o=r.parentNode;Gr(o),o.append(r),n.clear(),ue(e,t[0].prev,t[s-1].next)}an(i,()=>{for(var u=0;u<s;u++){var c=t[u];l||(n.delete(c.k),ue(e,c.prev,c.next)),ie(c.e,!l)}})}function cr(e,t,r,n,i,s=null){var a=e,l={flags:t,items:new Map,first:null},o=(t&wr)!==0;if(o){var u=e;a=S?ne(Le(u)):u.appendChild(Ie())}S&&Et();var c=null,h=!1,v=new Map,d=Xt(()=>{var g=r();return qt(g)?g:g==null?[]:zt(g)}),f,_;function p(){es(_,f,l,v,a,i,t,n,r),s!==null&&(f.length===0?c?ar(c):c=Me(()=>s(a)):c!==null&&ir(c,()=>{c=null}))}nr(()=>{_??=$,f=b(d);var g=f.length;if(h&&g===0)return;h=g===0;let w=!1;if(S){var y=Or(a)===Dt;y!==(g===0)&&(a=Kt(),ne(a),ce(!1),w=!0)}if(S){for(var O=null,T,m=0;m<g;m++){if(C.nodeType===nt&&C.data===Ut){a=C,w=!0,ce(!1);break}var k=f[m],I=n(k,m);T=dr(C,l,O,null,k,I,m,i,t,r),l.items.set(I,T),O=T}g>0&&ne(Kt())}if(S)g===0&&s&&(c=Me(()=>s(a)));else if(Jr()){var J=new Set,Qe=F;for(m=0;m<g;m+=1){k=f[m],I=n(k,m);var pe=l.items.get(I)??v.get(I);pe?(t&(pt|bt))!==0&&En(pe,k,m,t):(T=dr(null,l,null,null,k,I,m,i,t,r,!0),v.set(I,T)),J.add(I)}for(const[te,E]of l.items)J.has(te)||Qe.skipped_effects.add(E.e);Qe.add_callback(p)}else p();w&&ce(!0),b(d)}),S&&(a=C)}function es(e,t,r,n,i,s,a,l,o){var u=(a&Vn)!==0,c=(a&(pt|bt))!==0,h=t.length,v=r.items,d=r.first,f=d,_,p=null,g,w=[],y=[],O,T,m,k;if(u)for(k=0;k<h;k+=1)O=t[k],T=l(O,k),m=v.get(T),m!==void 0&&(m.a?.measure(),(g??=new Set).add(m));for(k=0;k<h;k+=1){if(O=t[k],T=l(O,k),m=v.get(T),m===void 0){var I=n.get(T);if(I!==void 0){n.delete(T),v.set(T,I);var J=p?p.next:f;ue(r,p,I),ue(r,I,J),vr(I,J,i),p=I}else{var Qe=f?f.e.nodes_start:i;p=dr(Qe,r,p,p===null?r.first:p.next,O,T,k,s,a,o)}v.set(T,p),w=[],y=[],f=p.next;continue}if(c&&En(m,O,k,a),(m.e.f&re)!==0&&(ar(m.e),u&&(m.a?.unfix(),(g??=new Set).delete(m))),m!==f){if(_!==void 0&&_.has(m)){if(w.length<y.length){var pe=y[0],te;p=pe.prev;var E=w[0],R=w[w.length-1];for(te=0;te<w.length;te+=1)vr(w[te],pe,i);for(te=0;te<y.length;te+=1)_.delete(y[te]);ue(r,E.prev,R.next),ue(r,p,E),ue(r,R,pe),f=pe,p=R,k-=1,w=[],y=[]}else _.delete(m),vr(m,f,i),ue(r,m.prev,m.next),ue(r,m,p===null?r.first:p.next),ue(r,p,m),p=m;continue}for(w=[],y=[];f!==null&&f.k!==T;)(f.e.f&re)===0&&(_??=new Set).add(f),y.push(f),f=f.next;if(f===null)continue;m=f}w.push(m),p=m,f=m.next}if(f!==null||_!==void 0){for(var B=_===void 0?[]:zt(_);f!==null;)(f.e.f&re)===0&&B.push(f),f=f.next;var Se=B.length;if(Se>0){var ze=(a&wr)!==0&&h===0?i:null;if(u){for(k=0;k<Se;k+=1)B[k].a?.measure();for(k=0;k<Se;k+=1)B[k].a?.fix()}Qi(r,B,ze)}}u&&Gt(()=>{if(g!==void 0)for(m of g)m.a?.apply()}),e.first=r.first&&r.first.e,e.last=p&&p.e;for(var Gs of n.values())ie(Gs.e);n.clear()}function En(e,t,r,n){(n&pt)!==0&&ut(e.v,t),(n&bt)!==0?ut(e.i,r):e.i=r}function dr(e,t,r,n,i,s,a,l,o,u,c){var h=(o&pt)!==0,v=(o&Yn)===0,d=h?v?Br(i,!1,!1):We(i):i,f=(o&bt)===0?a:We(a),_={i:f,v:d,k:s,a:null,e:null,prev:r,next:n};try{if(e===null){var p=document.createDocumentFragment();p.append(e=Ie())}return _.e=Me(()=>l(e,d,f,u),S),_.e.prev=r&&r.e,_.e.next=n&&n.e,r===null?c||(t.first=_):(r.next=_,r.e.next=_.e),n!==null&&(n.prev=_,n.e.prev=_.e),_}finally{}}function vr(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,i=t?t.e.nodes_start:r,s=e.e.nodes_start;s!==null&&s!==n;){var a=xe(s);i.before(s),s=a}}function ue(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function Ze(e,t){tr(()=>{var r=e.getRootNode(),n=r.host?r:r.head??r.ownerDocument.head;if(!n.querySelector("#"+t.hash)){const i=document.createElement("style");i.id=t.hash,i.textContent=t.code,n.appendChild(i)}})}function xn(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=xn(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ts(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=xn(e))&&(n&&(n+=" "),n+=t);return n}function rs(e){return typeof e=="object"?ts(e):e??""}function ns(e,t,r){var n=e==null?"":""+e;return n=n?n+" "+t:t,n===""?null:n}function kn(e,t=!1){var r=t?" !important;":";",n="";for(var i in e){var s=e[i];s!=null&&s!==""&&(n+=" "+i+": "+s+r)}return n}function is(e,t){if(t){var r="",n,i;return Array.isArray(t)?(n=t[0],i=t[1]):n=t,n&&(r+=kn(n)),i&&(r+=kn(i,!0)),r=r.trim(),r===""?null:r}return String(e)}function ss(e,t,r,n,i,s){var a=e.__className;if(S||a!==r||a===void 0){var l=ns(r,n);(!S||l!==e.getAttribute("class"))&&(l==null?e.removeAttribute("class"):e.className=l),e.__className=r}return s}function hr(e,t={},r,n){for(var i in r){var s=r[i];t[i]!==s&&(r[i]==null?e.style.removeProperty(i):e.style.setProperty(i,s,n))}}function Tn(e,t,r,n){var i=e.__style;if(S||i!==t){var s=is(t,n);(!S||s!==e.getAttribute("style"))&&(s==null?e.removeAttribute("style"):e.style.cssText=s),e.__style=t}else n&&(Array.isArray(n)?(hr(e,r?.[0],n[0]),hr(e,r?.[1],n[1],"important")):hr(e,r,n));return n}const as=Symbol("is custom element"),ls=Symbol("is html");function os(e){if(S){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;_r(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var i=e.checked;_r(e,"checked",null),e.checked=i}}};e.__on_r=r,Ti(r),Zr()}}function _r(e,t,r,n){var i=us(e);S&&(i[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||i[t]!==(i[t]=r)&&(t==="loading"&&(e[fi]=r),r==null?e.removeAttribute(t):typeof r!="string"&&fs(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function us(e){return e.__attributes??={[as]:e.nodeName.includes("-"),[ls]:e.namespaceURI===ti}}var Sn=new Map;function fs(e){var t=e.getAttribute("is")||e.nodeName,r=Sn.get(t);if(r)return r;Sn.set(t,r=[]);for(var n,i=e,s=Element.prototype;s!==i;){n=Er(i);for(var a in n)n[a].set&&r.push(a);i=jt(i)}return r}const cs=()=>performance.now(),_e={tick:e=>requestAnimationFrame(e),now:()=>cs(),tasks:new Set};function An(){const e=_e.now();_e.tasks.forEach(t=>{t.c(e)||(_e.tasks.delete(t),t.f())}),_e.tasks.size!==0&&_e.tick(An)}function ds(e){let t;return _e.tasks.size===0&&_e.tick(An),{promise:new Promise(r=>{_e.tasks.add(t={c:e,f:r})}),abort(){_e.tasks.delete(t)}}}function Ft(e,t){ct(()=>{e.dispatchEvent(new CustomEvent(t))})}function vs(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function Nn(e){const t={},r=e.split(";");for(const n of r){const[i,s]=n.split(":");if(!i||s===void 0)break;const a=vs(i.trim());t[a]=s.trim()}return t}const hs=e=>e;function _s(e,t,r,n){var i=(e&Zn)!==0,s="both",a,l=t.inert,o=t.style.overflow,u,c;function h(){return ct(()=>a??=r()(t,n?.()??{},{direction:s}))}var v={is_global:i,in(){t.inert=l,Ft(t,"introstart"),u=pr(t,h(),c,1,()=>{Ft(t,"introend"),u?.abort(),u=a=void 0,t.style.overflow=o})},out(p){t.inert=!0,Ft(t,"outrostart"),c=pr(t,h(),u,0,()=>{Ft(t,"outroend"),p?.()})},stop:()=>{u?.abort(),c?.abort()}},d=$;if((d.transitions??=[]).push(v),ur){var f=i;if(!f){for(var _=d.parent;_&&(_.f&rt)!==0;)for(;(_=_.parent)&&(_.f&Ne)===0;);f=!_||(_.f&tt)!==0}f&&tr(()=>{vt(()=>v.in())})}}function pr(e,t,r,n,i){var s=n===1;if(si(t)){var a,l=!1;return Gt(()=>{if(!l){var p=t({direction:s?"in":"out"});a=pr(e,p,r,n,i)}}),{abort:()=>{l=!0,a?.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(r?.deactivate(),!t?.duration)return i(),{abort:He,deactivate:He,reset:He,t:()=>n};const{delay:o=0,css:u,tick:c,easing:h=hs}=t;var v=[];if(s&&r===void 0&&(c&&c(0,1),u)){var d=Nn(u(0,1));v.push(d,d)}var f=()=>1-n,_=e.animate(v,{duration:o,fill:"forwards"});return _.onfinish=()=>{_.cancel();var p=r?.t()??1-n;r?.abort();var g=n-p,w=t.duration*Math.abs(g),y=[];if(w>0){var O=!1;if(u)for(var T=Math.ceil(w/16.666666666666668),m=0;m<=T;m+=1){var k=p+g*h(m/T),I=Nn(u(k,1-k));y.push(I),O||=I.overflow==="hidden"}O&&(e.style.overflow="hidden"),f=()=>{var J=_.currentTime;return p+g*h(J/w)},c&&ds(()=>{if(_.playState!=="running")return!1;var J=f();return c(J,1-J),!0})}_=e.animate(y,{duration:w,fill:"forwards"}),_.onfinish=()=>{f=()=>n,c?.(n,1-n),i()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=He)},deactivate:()=>{i=He},reset:()=>{n===0&&c?.(1,0)},t:()=>f()}}function ps(e,t,r=t){var n=new WeakSet;Pi(e,"input",async i=>{var s=i?e.defaultValue:e.value;if(s=br(e)?gr(s):s,r(s),F!==null&&n.add(F),await Hi(),s!==(s=t())){var a=e.selectionStart,l=e.selectionEnd;e.value=s??"",l!==null&&(e.selectionStart=a,e.selectionEnd=Math.min(l,e.value.length))}}),(S&&e.defaultValue!==e.value||vt(t)==null&&e.value)&&(r(br(e)?gr(e.value):e.value),F!==null&&n.add(F)),rr(()=>{var i=t();if(e===document.activeElement){var s=kt??F;if(n.has(s))return}br(e)&&i===gr(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function br(e){var t=e.type;return t==="number"||t==="range"}function gr(e){return e===""?null:+e}function On(e,t){return e===t||e?.[Ce]===t}function mr(e={},t,r,n){return tr(()=>{var i,s;return rr(()=>{i=s,s=[],vt(()=>{e!==r(...s)&&(t(e,...s),i&&On(r(...i),e)&&t(null,...i))})}),()=>{Gt(()=>{s&&On(r(...s),e)&&t(null,...s)})}}),e}function Rn(e=!1){const t=D,r=t.l.u;if(!r)return;let n=()=>Yi(t.s);if(e){let i=0,s={};const a=lt(()=>{let l=!1;const o=t.s;for(const u in o)o[u]!==s[u]&&(s[u]=o[u],l=!0);return l&&i++,i});n=()=>b(a)}r.b.length&&Li(()=>{Cn(t,n),mt(r.b)}),en(()=>{const i=vt(()=>r.m.map(ai));return()=>{for(const s of i)typeof s=="function"&&s()}}),r.a.length&&en(()=>{Cn(t,n),mt(r.a)})}function Cn(e,t){if(e.l.s)for(const r of e.l.s)b(r);t()}let Pt=!1;function bs(e){var t=Pt;try{return Pt=!1,[e(),Pt]}finally{Pt=t}}function ee(e,t,r,n){var i=!et||(r&Wn)!==0,s=(r&Jn)!==0,a=(r&Xn)!==0,l=n,o=!0,u=()=>(o&&(o=!1,l=a?vt(n):n),l),c;if(s){var h=Ce in e||Ar in e;c=Ae(e,t)?.set??(h&&t in e?y=>e[t]=y:void 0)}var v,d=!1;s?[v,d]=bs(()=>e[t]):v=e[t];var f;if(i?f=()=>{var y=e[t];return y===void 0?u():(o=!0,y)}:f=()=>{var y=e[t];return y!==void 0&&(l=void 0),y===void 0?l:y},i&&(r&Gn)===0)return f;if(c){var _=e.$$legacy;return(function(y,O){return arguments.length>0?((!i||!O||_||d)&&c(O?f():y),y):f()})}var p=!1,g=((r&Kn)!==0?lt:Xt)(()=>(p=!1,f()));s&&b(g);var w=$;return(function(y,O){if(arguments.length>0){const T=O?b(g):i&&s?se(y):y;return A(g,T),p=!0,l!==void 0&&(l=T),y}return De&&p||(w.f&Oe)!==0?g.v:b(g)})}function gs(e){return new ms(e)}class ms{#e;#t;constructor(t){var r=new Map,n=(s,a)=>{var l=Br(a,!1,!1);return r.set(s,l),l};const i=new Proxy({...t.props||{},$$events:{}},{get(s,a){return b(r.get(a)??n(a,Reflect.get(s,a)))},has(s,a){return a===Ar?!0:(b(r.get(a)??n(a,Reflect.get(s,a))),Reflect.has(s,a))},set(s,a,l){return A(r.get(a)??n(a,l),l),Reflect.set(s,a,l)}});this.#t=(t.hydrate?Ji:wn)(t.component,{target:t.target,anchor:t.anchor,props:i,context:t.context,intro:t.intro??!1,recover:t.recover}),!K&&(!t?.props?.$$host||t.sync===!1)&&V(),this.#e=i.$$events;for(const s of Object.keys(this.#t))s==="$set"||s==="$destroy"||s==="$on"||Be(this,s,{get(){return this.#t[s]},set(a){this.#t[s]=a},enumerable:!0});this.#t.$set=s=>{Object.assign(i,s)},this.#t.$destroy=()=>{Xi(this.#t)}}$set(t){this.#t.$set(t)}$on(t,r){this.#e[t]=this.#e[t]||[];const n=(...i)=>r.call(this,...i);return this.#e[t].push(n),()=>{this.#e[t]=this.#e[t].filter(i=>i!==n)}}$destroy(){this.#t.$destroy()}}let Fn;typeof HTMLElement=="function"&&(Fn=class extends HTMLElement{$$ctor;$$s;$$c;$$cn=!1;$$d={};$$r=!1;$$p_d={};$$l={};$$l_u=new Map;$$me;constructor(e,t,r){super(),this.$$ctor=e,this.$$s=t,r&&this.attachShadow({mode:"open"})}addEventListener(e,t,r){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c){const n=this.$$c.$on(e,t);this.$$l_u.set(t,n)}super.addEventListener(e,t,r)}removeEventListener(e,t,r){if(super.removeEventListener(e,t,r),this.$$c){const n=this.$$l_u.get(t);n&&(n(),this.$$l_u.delete(t))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let e=function(n){return i=>{const s=document.createElement("slot");n!=="default"&&(s.name=n),j(i,s)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;const t={},r=ws(this);for(const n of this.$$s)n in r&&(n==="default"&&!this.$$d.children?(this.$$d.children=e(n),t.default=!0):t[n]=e(n));for(const n of this.attributes){const i=this.$$g_p(n.name);i in this.$$d||(this.$$d[i]=It(i,n.value,this.$$p_d,"toProp"))}for(const n in this.$$p_d)!(n in this.$$d)&&this[n]!==void 0&&(this.$$d[n]=this[n],delete this[n]);this.$$c=gs({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:t,$$host:this}}),this.$$me=Mi(()=>{rr(()=>{this.$$r=!0;for(const n of gt(this.$$c)){if(!this.$$p_d[n]?.reflect)continue;this.$$d[n]=this.$$c[n];const i=It(n,this.$$d[n],this.$$p_d,"toAttribute");i==null?this.removeAttribute(this.$$p_d[n].attribute||n):this.setAttribute(this.$$p_d[n].attribute||n,i)}this.$$r=!1})});for(const n in this.$$l)for(const i of this.$$l[n]){const s=this.$$c.$on(n,i);this.$$l_u.set(i,s)}this.$$l={}}}attributeChangedCallback(e,t,r){this.$$r||(e=this.$$g_p(e),this.$$d[e]=It(e,r,this.$$p_d,"toProp"),this.$$c?.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(e){return gt(this.$$p_d).find(t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e)||e}});function It(e,t,r,n){const i=r[e]?.type;if(t=i==="Boolean"&&typeof t!="boolean"?t!=null:t,!n||!r[e])return t;if(n==="toAttribute")switch(i){case"Object":case"Array":return t==null?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t??null;default:return t}else switch(i){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":return t;case"Number":return t!=null?+t:t;default:return t}}function ws(e){const t={};return e.childNodes.forEach(r=>{t[r.slot||"default"]=!0}),t}function qe(e,t,r,n,i,s){let a=class extends Fn{constructor(){super(e,r,i),this.$$p_d=t}static get observedAttributes(){return gt(t).map(l=>(t[l].attribute||l).toLowerCase())}};return gt(t).forEach(l=>{Be(a.prototype,l,{get(){return this.$$c&&l in this.$$c?this.$$c[l]:this.$$d[l]},set(o){o=It(l,o,t),this.$$d[l]=o;var u=this.$$c;if(u){var c=Ae(u,l)?.get;c?u[l]=o:u.$set({[l]:o})}}})}),n.forEach(l=>{Be(a.prototype,l,{get(){return this.$$c?.[l]}})}),e.element=a,a}Hn();var ys=Y('<footer class="svelte-202c"><aside><small><a target="_blank" href="https://github.com/ReunMedia/nanomanager">Nanomanager</a> version <a target="_blank" href="https://github.com/ReunMedia/nanomanager/releases"> </a></small></aside></footer>');const $s={hash:"svelte-202c",code:"footer.svelte-202c{padding:2em 0 1em}"};function Pn(e,t){me(t,!1),Ze(e,$s),Rn();var r=ys(),n=P(r),i=P(n),s=U(P(i),2),a=P(s,!0);N(s),N(i),N(n),N(r),de(()=>Ue(a,"0.1.0")),j(e,r),we()}qe(Pn,{},[],[],!0);const In=se({apiUrl:""});async function Lt(e,t){let r="";if(e==="uploadFile"){r=new FormData,r.append("operationType",e);for(const s of t.files)r.append("files[]",s)}else r=JSON.stringify({operationType:e,parameters:t});return await(await fetch(In.apiUrl,{method:"POST",body:r})).json()}class Es extends Map{#e=new Map;#t=L(0);#r=L(0);#l=he||-1;constructor(t){if(super(),t){for(var[r,n]of t)super.set(r,n);this.#r.v=super.size}}#i(t){return he===this.#l?L(t):We(t)}has(t){var r=this.#e,n=r.get(t);if(n===void 0){var i=super.get(t);if(i!==void 0)n=this.#i(0),r.set(t,n);else return b(this.#t),!1}return b(n),!0}forEach(t,r){this.#n(),super.forEach(t,r)}get(t){var r=this.#e,n=r.get(t);if(n===void 0){var i=super.get(t);if(i!==void 0)n=this.#i(0),r.set(t,n);else{b(this.#t);return}}return b(n),super.get(t)}set(t,r){var n=this.#e,i=n.get(t),s=super.get(t),a=super.set(t,r),l=this.#t;if(i===void 0)i=this.#i(0),n.set(t,i),A(this.#r,super.size),Ee(l);else if(s!==r){Ee(i);var o=l.reactions===null?null:new Set(l.reactions),u=o===null||!i.reactions?.every(c=>o.has(c));u&&Ee(l)}return a}delete(t){var r=this.#e,n=r.get(t),i=super.delete(t);return n!==void 0&&(r.delete(t),A(this.#r,super.size),A(n,-1),Ee(this.#t)),i}clear(){if(super.size!==0){super.clear();var t=this.#e;A(this.#r,0);for(var r of t.values())A(r,-1);Ee(this.#t),t.clear()}}#n(){b(this.#t);var t=this.#e;if(this.#r.v!==t.size){for(var r of super.keys())if(!t.has(r)){var n=this.#i(0);t.set(r,n)}}for([,n]of this.#e)b(n)}keys(){return b(this.#t),super.keys()}values(){return this.#n(),super.values()}entries(){return this.#n(),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return b(this.#r),super.size}}const Mt=new Es,ht=e=>{const t=crypto.randomUUID();Mt.set(t,e),window.setTimeout(()=>{Mt.delete(t)},2e3)};function xs(e,t){navigator.clipboard.writeText(b(t)),ht("Link copied to clipboard")}var ks=Y('<p class="confirmation-text svelte-1y099l5"> </p>'),Ts=Y("<button>â</button> <button>â</button>",1),Ss=(e,t,r)=>t(r),As=(e,t,r)=>t(r),Ns=Y("<button>ð</button> <button>âï¸</button> <button>ðï¸</button>",1),Os=Y('<div class="filename-container svelte-1y099l5"><input/> <a class="filename-link bordered svelte-1y099l5"> </a></div> <div class="button-container svelte-1y099l5"><!> <div role="group"><!></div></div>',1);const Rs={hash:"svelte-1y099l5",code:".filename-link.svelte-1y099l5{border-color:transparent;text-decoration:none;width:100%}.filename-container.svelte-1y099l5{display:flex;flex:1}.button-container.svelte-1y099l5{align-items:center;display:flex;gap:1em}.confirmation-text.svelte-1y099l5{white-space:nowrap}"};function Ln(e,t){me(t,!0),Ze(e,Rs);let r=ee(t,"filename",7),n=ee(t,"baseUrl",7),i=ee(t,"onDeleted",7),s=ee(t,"onRenamed",7),a=L(null),l=L(se(r())),o,u=Jt(()=>n().replace(/\/+$/,"")+"/"+b(l));class c{#e=L("");get previousName(){return b(this.#e)}set previousName(R){A(this.#e,R,!0)}confirm=async()=>{if(this.previousName===""||this.previousName===b(l)){this.cancel();return}const R=await Lt("renameFile",{oldName:this.previousName,newName:b(l)}),{newName:B}=R.data;B===b(l)?s()(this.previousName,b(l)):(ht("Invalid filename - File not renamed"),A(l,this.previousName,!0)),this.previousName="",A(a,null)};cancel=()=>{A(l,this.previousName,!0),this.previousName="",o?.blur(),document.getSelection()?.empty(),A(a,null)};activate=async()=>{await new Promise(requestAnimationFrame),this.previousName=b(l);const R=b(l).lastIndexOf(".");o?.focus(),o?.setSelectionRange(0,R)};onInputKeydown=R=>{R.key==="Enter"?this.confirm():R.key==="Escape"&&this.cancel()}}class h{confirmationText="Delete file?";confirm=async()=>{(await Lt("deleteFile",{filename:b(l)})).data.success===!0&&i()(b(l)),A(a,null)};cancel=()=>{A(a,null)}}const v=new c,d=new h;function f(E){A(a,E,!0),b(a).activate?.()}var _=Os(),p=ft(_),g=P(p);os(g),g.__keydown=function(...E){v.onInputKeydown?.apply(this,E)};let w;mr(g,E=>o=E,()=>o);var y=U(g,2);let O;var T=P(y,!0);N(y),N(p);var m=U(p,2),k=P(m);{var I=E=>{var R=ks(),B=P(R,!0);N(R),de(()=>Ue(B,b(a).confirmationText)),j(E,R)};$n(k,E=>{b(a)?.confirmationText&&E(I)})}var J=U(k,2),Qe=P(J);{var pe=E=>{var R=Ts(),B=ft(R);B.__click=function(...ze){b(a).cancel?.apply(this,ze)};var Se=U(B,2);Se.__click=function(...ze){b(a).confirm?.apply(this,ze)},j(E,R)},te=E=>{var R=Ns(),B=ft(R);B.__click=[xs,u];var Se=U(B,2);Se.__click=[Ss,f,v];var ze=U(Se,2);ze.__click=[As,f,d],j(E,R)};$n(Qe,E=>{b(a)?E(pe):E(te,!1)})}return N(J),N(m),de((E,R)=>{w=Tn(g,"",w,E),_r(y,"href",b(u)),O=Tn(y,"",O,R),Ue(T,b(l))},[()=>({display:b(a)===v?"":"none"}),()=>({display:b(a)===v?"none":""})]),ps(g,()=>b(l),E=>A(l,E)),j(e,_),we({get filename(){return r()},set filename(E){r(E),V()},get baseUrl(){return n()},set baseUrl(E){n(E),V()},get onDeleted(){return i()},set onDeleted(E){i(E),V()},get onRenamed(){return s()},set onRenamed(E){s(E),V()}})}gn(["keydown","click"]),qe(Ln,{filename:{},baseUrl:{},onDeleted:{},onRenamed:{}},[],[],!0);async function Cs(e,t){return new Promise(r=>{e.addEventListener(t,n=>{r(n)},{once:!0})})}var Fs=Y('<dialog class="bordered svelte-141bcci"><!> <form method="dialog" class="svelte-141bcci"><button value="cancel"> </button> <button value="confirm"> </button></form></dialog>');const Ps={hash:"svelte-141bcci",code:"dialog.svelte-141bcci{background:var(--color-bg);box-shadow:0 2px 8px 0 rgba(0,0,0,.2);left:50%;margin:0;opacity:0;padding:1em;top:50%;transform:translate(-50%,-50%);transition:all allow-discrete .2s cubic-bezier(.61,1,.88,1);&::backdrop{background-color:transparent;transition:all allow-discrete .2s cubic-bezier(.61,1,.88,1)}&:open{opacity:1;&::backdrop{background-color:rgba(0,0,0,.25)}}form:where(.svelte-141bcci){display:flex;gap:1em;justify-content:space-between;margin-top:2em}}@starting-style{dialog.svelte-141bcci:open{opacity:0;&::backdrop{background-color:transparent}}}"};function Mn(e,t){me(t,!0),Ze(e,Ps);let r=ee(t,"content",7),n=ee(t,"cancelLabel",7),i=ee(t,"confirmLabel",7),s=ee(t,"dialog",15);var a=Fs(),l=P(a);Zi(l,r);var o=U(l,2),u=P(o),c=P(u,!0);N(u);var h=U(u,2),v=P(h,!0);return N(h),N(o),N(a),mr(a,d=>s(d),()=>s()),de(()=>{Ue(c,n()),Ue(v,i())}),j(e,a),we({get content(){return r()},set content(d){r(d),V()},get cancelLabel(){return n()},set cancelLabel(d){n(d),V()},get confirmLabel(){return i()},set confirmLabel(d){i(d),V()},get dialog(){return s()},set dialog(d){s(d),V()}})}qe(Mn,{content:{},cancelLabel:{},confirmLabel:{},dialog:{}},[],[],!0);var Is=Y("<li> </li>"),Ls=Y('<p>The following files already exist and will be replaced</p> <ul style="margin-top: 1em;"></ul>',1),Ms=Y('<input type="file" multiple/> <div><button style="width: 7em;">ð¤</button></div> <!>',1);function Dn(e,t){me(t,!0);const r=p=>{var g=Ls(),w=U(ft(g),2);cr(w,20,()=>b(l),y=>y,(y,O)=>{var T=Is(),m=P(T,!0);N(T),de(()=>Ue(m,O)),j(y,T)}),N(w),j(p,g)};let n=ee(t,"onUploaded",7),i=ee(t,"currentFiles",7),s,a=L(void 0),l=L(se([]));async function o(){if(!s||!b(a))return;const p=s.files??null;if(p===null||(A(l,[...p].map(w=>w.name).filter(w=>i().has(w)),!0),b(l).length>0&&(b(a).showModal(),await Cs(b(a),"close"),b(a).returnValue!=="confirm")))return;const g=await Lt("uploadFile",{files:p});s.value="",c(),n()(g.data.uploadedFiles)}let u=L(!1);function c(){A(u,typeof s?.files?.length=="number"&&s.files.length!==0,!0)}var h=Ms(),v=ft(h);v.__change=c,mr(v,p=>s=p,()=>s);var d=U(v,2),f=P(d);f.__click=o,N(d);var _=U(d,2);return Mn(_,{get content(){return r},cancelLabel:"Cancel upload",confirmLabel:"Replace files",get dialog(){return b(a)},set dialog(p){A(a,p,!0)}}),de(()=>f.disabled=!b(u)),j(e,h),we({get onUploaded(){return n()},set onUploaded(p){n(p),V()},get currentFiles(){return i()},set currentFiles(p){i(p),V()}})}gn(["change","click"]),qe(Dn,{onUploaded:{},currentFiles:{}},[],[],!0);var Ds=Y('<li class="svelte-9ubfuz"><!></li>'),Us=Y('<ul class="file-list svelte-9ubfuz"><li class="svelte-9ubfuz"><!></li> <!></ul>');const qs={hash:"svelte-9ubfuz",code:".file-list.svelte-9ubfuz{li:where(.svelte-9ubfuz){display:flex;flex-direction:row;gap:2em;min-height:1px}& li:where(.svelte-9ubfuz)+li:where(.svelte-9ubfuz){border-top:1px solid var(--color-border);margin-top:1em;padding-top:1em}}"};function Un(e,t){me(t,!0),Ze(e,qs);let r=L(se([])),n=L("");async function i(){const d=(await Lt("listFiles",{})).data;A(r,d.files,!0),A(n,d.baseUrl,!0)}i();function s(d,f){const _=b(r).indexOf(d);_!==-1&&(b(r)[_]=f),o(),ht(`File renamed to '${f}'`)}function a(d){const f=b(r).indexOf(d);f!==-1&&b(r).splice(f,1),ht(`File '${d}' deleted`)}function l(d){A(r,[...new Set([...b(r),...d])],!0),o(),ht(d.length===1?"1 file uploaded":`${d.length} files uploaded`)}function o(){b(r).sort((d,f)=>d.localeCompare(f,"en",{ignorePunctuation:!0}))}var u=Us(),c=P(u),h=P(c);{let d=Jt(()=>new Set(b(r)));Dn(h,{get currentFiles(){return b(d)},onUploaded:l})}N(c);var v=U(c,2);cr(v,16,()=>b(r),d=>d,(d,f)=>{var _=Ds(),p=P(_);Ln(p,{get baseUrl(){return b(n)},get filename(){return f},onDeleted:a,onRenamed:s}),N(_),j(d,_)}),N(u),j(e,u),we()}qe(Un,{},[],[],!0);const zs=e=>e;function js(e,{delay:t=0,duration:r=400,easing:n=zs}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:n,css:s=>`opacity: ${s*i}`}}function Bs(e){return Math.sin(e*Math.PI/2)}var Hs=Y('<li class="bordered svelte-1p3a7oa"> </li>'),Vs=Y('<dialog class="svelte-1p3a7oa"><ul></ul></dialog>');const Ys={hash:"svelte-1p3a7oa",code:"dialog.svelte-1p3a7oa{background:none;border:none;bottom:0;margin:0 auto 1em;padding:0;pointer-events:none;position:fixed}li.svelte-1p3a7oa{background:var(--color-bg);box-shadow:0 2px 8px 0 rgba(0,0,0,.2);margin-top:1em;pointer-events:auto}"};function qn(e,t){me(t,!1),Ze(e,Ys),Rn();var r=Vs(),n=P(r);cr(n,5,()=>Mt.entries(),([i,s])=>i,(i,s)=>{var a=Jt(()=>oi(b(s),2));let l=()=>b(a)[1];var o=Hs(),u=P(o,!0);N(o),de(()=>Ue(u,l())),_s(3,o,()=>js,()=>({easing:Bs})),j(i,o)}),N(n),N(r),de(()=>r.open=Mt.size>0||!0),j(e,r),we()}qe(qn,{},[],[],!0);var Ks=Y('<div><div class="container svelte-bw9niu"><main class="svelte-bw9niu"><h1 class="svelte-bw9niu">Nano File Manager</h1> <!> <!></main> <!></div></div>');const Ws={hash:"svelte-bw9niu",code:".body.svelte-bw9niu{--ON:initial;--OFF: ;--rounded:0.5em;--color-text:var(--dark,#dfe5ec) var(--light,#0d1b2a);--color-bg:var(--dark,#0d1b2a) var(--light,#e5edf7);--color-border:#415a77;--color-highlight:#778da9}.body.svelte-bw9niu,.body.dark.svelte-bw9niu{--dark:var(--ON);--light:var(--OFF)}.body.light.svelte-bw9niu{--dark:var(--OFF);--light:var(--ON)}@media (prefers-color-scheme:light){.body.svelte-bw9niu:not(.dark):not(.light){--dark:var(--OFF);--light:var(--ON)}}*{color:var(--color-text);margin:0;&,&:after,&:before{box-sizing:border-box}}ul{list-style:none;padding:0}button,input,select,textarea{font:inherit}input{width:100%}.bordered,button,input,input::file-selector-button{background:transparent;border:1px solid var(--color-border);border-radius:var(--rounded);color:inherit;padding:.5em 1em}input[type=file]{border-color:transparent;outline:none;padding:0;&::file-selector-button{margin-right:1em}}div[role=group]{display:flex;& button{border-radius:0}& button:first-child{border-radius:var(--rounded) 0 0 var(--rounded)}& button+button{border-left:0}& button:last-child{border-radius:0 var(--rounded) var(--rounded) 0}}button,input::file-selector-button{height:100%}button:hover:not(:disabled),input::file-selector-button:hover{background:var(--color-highlight);cursor:pointer}button:disabled{opacity:.75}.body.svelte-bw9niu{background:var(--color-bg);font-family:-apple-system,BlinkMacSystemFont,avenir next,avenir,segoe ui,helvetica neue,Adwaita Sans,Cantarell,Ubuntu,roboto,noto,helvetica,arial,sans-serif;font-size:16px;height:100%;line-height:1.5}.body.svelte-bw9niu,.container.svelte-bw9niu{display:flex;width:100%}.container.svelte-bw9niu{flex:1;flex-direction:column;margin:0 auto;max-width:960px;padding-top:2em}main.svelte-bw9niu{flex:1}h1.svelte-bw9niu{margin:0 0 1em}"};function zn(e,t){me(t,!0),Ze(e,Ws);let r=ee(t,"theme",7),n=ee(t,"api-url",7);In.apiUrl=(n(),n());var i=Ks(),s=P(i),a=P(s),l=U(P(a),2);Un(l,{});var o=U(l,2);qn(o,{}),N(a);var u=U(a,2);return Pn(u,{}),N(s),N(i),de(()=>ss(i,1,rs(["body",r()]),"svelte-bw9niu")),j(e,i),we({get theme(){return r()},set theme(c){r(c),V()},get"api-url"(){return n()},set"api-url"(c){n(c),V()}})}return customElements.define("nano-filemanager",qe(zn,{theme:{},"api-url":{}},[],[],!0)),zn}));
